# Κανόνες Μισθοδοσίας (eschedule)

## Πεδίο εφαρμογής
Οι κανόνες αυτοί ορίζουν πώς κατηγοριοποιείται και πληρώνεται ο χρόνος εργασίας, με συνδυασμό:
1. **Ζώνης ώρας** (ημέρα/νύχτα)
2. **Τύπου ημέρας** (εργάσιμη/αργία)
3. **Κατηγορίας απασχόλησης** (εντός συμφωνημένου, πρόσθετη, υπερεργασία, υπερωρία, παράνομη υπερωρία)

---

## 1) Ζώνες ώρας

- **Ημερήσια εργασία:** `06:00 - 22:00`
- **Νυχτερινή εργασία:** `22:00 - 06:00` (της επόμενης ημέρας)
  - Προσαύξηση νύχτας: **+25%**

---

## 2) Τύπος ημέρας

- **Κανονική εργάσιμη ημέρα**
- **Αργία / Κυριακή**
  - Προσαύξηση αργίας: **+75%**

> Η Κυριακή αντιμετωπίζεται ως αργία από προεπιλογή.

---

## 3) Κατηγορίες χρόνου απασχόλησης

### 3.1 Εντός συμφωνημένου (`within`)
- Ώρες που ανήκουν στο συμφωνημένο πρόγραμμα/μισθό.
- **Δεν πληρώνεται ξανά η βάση της ώρας** (θεωρείται ότι καλύπτεται ήδη από τον μισθό).
- Πληρώνονται μόνο τυχόν προσαυξήσεις (π.χ. νύχτας, αργίας).

### 3.2 Πρόσθετη εργασία (`additional`) – μόνο για μερική απασχόληση
- Για συμβάσεις μειωμένης απασχόλησης, ώρες **πάνω από το συμφωνημένο** και **έως τις 40 ώρες εβδομαδιαίως**.
- Προσαύξηση: **+12%**.
- Πληρωμή πλήρης: βάση ώρας + προσαύξηση.

### 3.3 Υπερεργασία (`YE`)
- **Ημερήσιος κανόνας:** 9η ώρα ημέρας.
- **Εβδομαδιαίος κανόνας:** ώρες από **40 έως 45** ανά εβδομάδα.
- Προσαύξηση: **+20%**.
- Πληρωμή πλήρης: βάση ώρας + προσαύξηση.

### 3.4 Υπερωρία (`YP`)
- **Ημερήσιος κανόνας:** 10η και 11η ώρα ημέρας.
- Προσαύξηση: **+40%**.
- Πληρωμή πλήρης: βάση ώρας + προσαύξηση.

### 3.5 Παράνομη υπερωρία (`illegal`)
- **Ημερήσιος κανόνας:** 12η ώρα και πάνω.
- Προσαύξηση: **+80%**.
- Πληρωμή πλήρης: βάση ώρας + προσαύξηση.

---

## 4) Συνδυαστική λογική προσαυξήσεων

Ο υπολογισμός γίνεται συνδυαστικά: κάθε τμήμα χρόνου παίρνει tags για:
- κατηγορία (`within` / `additional` / `YE` / `YP` / `illegal`)
- ζώνη ώρας (ημέρα/νύχτα)
- τύπο ημέρας (εργάσιμη/αργία)

### 4.1 Βάση πληρωμής ανά κατηγορία
- `within`: η βάση ώρας είναι ήδη πληρωμένη (δεν ξαναπληρώνεται)
- `additional`, `YE`, `YP`, `illegal`: πληρώνεται **ολόκληρη** η ώρα + προσαύξηση κατηγορίας

### 4.2 Συσσώρευση προσαυξήσεων
- Οι προσαυξήσεις νύχτας και αργίας συσσωρεύονται με την κατηγορία.
- Για κατηγορίες πλήρους πληρωμής (`additional`, `YE`, `YP`, `illegal`), οι νύχτας/αργίας εφαρμόζονται πάνω στην αξία της κατηγορίας.

Παραδείγματα:
- `within + εργάσιμη + ημέρα` → καμία έξτρα πληρωμή
- `within + εργάσιμη + νύχτα` → μόνο +25%
- `within + αργία + νύχτα` → μόνο προσαυξήσεις αργίας και νύχτας
- `YE + εργάσιμη + ημέρα` → βάση ώρας +20%
- `YE + αργία + νύχτα` → αξία YE και επιπλέον προσαυξήσεις αργίας/νύχτας

---

## 5) Σημειώσεις υλοποίησης

- Συνιστάται ανάλυση σε μικρά χρονικά τμήματα (π.χ. 15 λεπτά) για ακρίβεια σε νυχτερινές/μικτές βάρδιες.
- Η δεύτερη βάρδια ίδιας ημέρας μπορεί να έχει διαφορετικό τύπο (`ΕΡΓ`/`ΤΗΛ`) και πρέπει να υπολογίζεται ανεξάρτητα.
- Απαιτούνται αθροίσεις:
  - ανά ημέρα
  - ανά εβδομάδα
  - ανά μήνα
- Το Payroll Summary πρέπει να δείχνει σύνολα ανά κατηγορία με εβδομαδιαία/μηνιαία υποσύνολα.

---

## 6) Επιβεβαιωμένες αποφάσεις

1. 10η και 11η ώρα ημέρας: υπερωρία `YP` +40%.
2. Εβδομαδιαία 40→45 ώρες: υπερεργασία `YE` +20%.
3. Για μερική απασχόληση, πάνω από συμφωνημένο μέχρι 40/εβδομάδα: `additional` +12%.
4. Το `within` ανήκει στον μισθό (δεν πληρώνεται ξανά η βάση ώρας).
5. `additional/YE/YP/illegal`: πλήρης πληρωμή (βάση ώρας + προσαύξηση κατηγορίας).
6. Για συνδυασμούς, εφαρμόζονται επιπλέον οι προσαυξήσεις νύχτας/αργίας σύμφωνα με τη συνδυαστική λογική.
7. Η παράνομη υπερωρία ξεκινά από τη 12η ώρα και πάνω.
